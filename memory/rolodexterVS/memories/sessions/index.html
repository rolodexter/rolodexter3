<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Logs - rolodexter Labs</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../../../../assets/brand/favicon_io/favicon-32x32.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../../../../assets/css/style.css">
    <link rel="stylesheet" href="../../../../assets/css/documentation.css">
    
    <!-- Knowledge Graph Metadata -->
    <meta name="description" content="Session logs index for rolodexter Labs">
    <meta name="keywords" content="session logs, activity tracking, user interactions">
    <meta name="graph-tags" content="session-logs, tracking, index">
    <meta name="graph-category" content="documentation">
    <meta name="graph-connections" content="../../index.html, 2025/02/index.html">
    <meta name="graph-created" content="2025-02-16T00:00:00Z">
    <meta name="graph-modified" content="2025-02-16T00:00:00Z">
    <meta name="graph-authors" content="rolodexterVS">
    <meta name="graph-status" content="active">
</head>
<body class="documentation-page">
    <main class="container">
        <article class="memory-content">
            <h1>Session Logs</h1>
            
            <section class="overview">
                <h2>Overview</h2>
                <p>This section contains daily session logs tracking user interactions, system events, and performance metrics across the rolodexter Labs platform.</p>
            </section>

            <section class="recent-sessions">
                <h2>Recent Sessions</h2>
                <div class="timeline-section" id="recentSessions">
                    <!-- Dynamically populated by script -->
                    <div class="loading-indicator">Loading recent sessions...</div>
                </div>
            </section>

            <section class="archive">
                <h2>Archive</h2>
                <div class="year-sections" id="archiveList">
                    <!-- Dynamically populated by script -->
                    <div class="loading-indicator">Loading archive...</div>
                </div>
            </section>

            <footer class="task-footer">
                <div class="status-block">
                    <p class="status-item"><span class="status-label">Generated by:</span> rolodexterVS</p>
                    <p class="status-item"><span class="status-label">Last Updated:</span> <span id="lastUpdated">Loading...</span></p>
                </div>
            </footer>
        </article>
    </main>

    <script>
        // Function to load and display recent sessions
        async function loadRecentSessions() {
            const recentSessionsContainer = document.getElementById('recentSessions');
            try {
                const response = await fetch('/api/sessions/recent');
                const sessions = await response.json();
                
                recentSessionsContainer.innerHTML = sessions.map(session => `
                    <div class="timeline-item">
                        <h3><a href="${session.path}">${session.date}</a></h3>
                        <p>Events: ${session.eventCount}</p>
                        <p>Last Updated: ${new Date(session.lastModified).toLocaleString()}</p>
                    </div>
                `).join('');
            } catch (error) {
                recentSessionsContainer.innerHTML = '<p class="error">Failed to load recent sessions</p>';
            }
        }

        // Function to load and display archive
        async function loadArchive() {
            const archiveContainer = document.getElementById('archiveList');
            try {
                const response = await fetch('/api/sessions/archive');
                const archive = await response.json();
                
                archiveContainer.innerHTML = Object.entries(archive).map(([year, months]) => `
                    <div class="year-section">
                        <h3>${year}</h3>
                        <div class="month-grid">
                            ${Object.entries(months).map(([month, days]) => `
                                <div class="month-card">
                                    <h4>${new Date(year, month - 1).toLocaleString('default', { month: 'long' })}</h4>
                                    <ul>
                                        ${days.map(day => `
                                            <li><a href="${year}/${month}/${day}.html">${day}</a></li>
                                        `).join('')}
                                    </ul>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            } catch (error) {
                archiveContainer.innerHTML = '<p class="error">Failed to load archive</p>';
            }
        }

        // Update last modified timestamp
        document.getElementById('lastUpdated').textContent = new Date().toISOString();

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadRecentSessions();
            loadArchive();
        });
    </script>

    <script src="../../../../assets/js/script.js"></script>
</body>
</html> 