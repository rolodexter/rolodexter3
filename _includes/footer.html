<!-- Standardized Footer -->
<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-section">
            <h3>üß† Memory System</h3>
            <ul class="footer-links">
                <li><a href="/memory/rolodexterVS/memory-system.html">Memory System Overview</a></li>
                <li><a href="/memory/rolodexterVS/tasks/rolodexterVS-pending-tasks.html">Pending Tasks</a></li>
                <li><a href="/memory/rolodexterVS/tasks/memory-system-reorganization.html">System Reorganization</a></li>
            </ul>
        </div>

        <div class="footer-section" id="recentSessions">
            <h3>üìù Recent Session Logs</h3>
            <ul class="footer-links session-links">
                <!-- Session links will be dynamically populated -->
            </ul>
            <p class="session-status" style="display: none;">No recent sessions recorded</p>
            <p class="last-update">Last Updated: <span id="lastSessionUpdate">--</span></p>
        </div>

        <div class="footer-section">
            <h3>üìö Resources</h3>
            <ul class="footer-links">
                <li><a href="/memory/index.html">Memory Home</a></li>
                <li><a href="/memory/rolodexterVS/memories/sessions/index.html">Session Archive</a></li>
                <li><a href="/knowledge/index.html">Knowledge Base</a></li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2025 rolodexter Labs, LLC. All rights reserved.</p>
        <p class="footer-meta">Generated by: rolodexterVS | Last Updated: <span id="footerTimestamp">--</span></p>
    </div>
</footer>

<!-- Session History Script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    function formatDate(date) {
        return date.toISOString().split('T')[0]; // YYYY-MM-DD
    }

    function formatDateTime(date) {
        return date.toISOString().replace('T', ' ').slice(0, -5) + ' UTC';
    }

    function updateSessionLinks() {
        const sessionList = document.querySelector('.session-links');
        const sessionStatus = document.querySelector('.session-status');
        const lastUpdateSpan = document.getElementById('lastSessionUpdate');
        const today = new Date();
        let hasValidSessions = false;

        // Clear existing links
        sessionList.innerHTML = '';

        // Generate links for the last three days
        for (let i = 0; i < 3; i++) {
            const date = new Date(today);
            date.setDate(today.getDate() - i);
            const formattedDate = formatDate(date);
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            
            const sessionURL = `/memory/rolodexterVS/memories/sessions/${year}/${month}/${day}.html`;
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            
            link.href = sessionURL;
            link.textContent = `${formattedDate} Session`;
            link.setAttribute('data-session-date', formattedDate);
            
            // Add event listener to check if session exists
            link.addEventListener('error', function() {
                this.parentElement.style.display = 'none';
            });

            listItem.appendChild(link);
            sessionList.appendChild(listItem);
            hasValidSessions = true;
        }

        // Update visibility and timestamps
        sessionStatus.style.display = hasValidSessions ? 'none' : 'block';
        lastUpdateSpan.textContent = formatDateTime(new Date());
        document.getElementById('footerTimestamp').textContent = formatDateTime(new Date());
    }

    // Initial update
    updateSessionLinks();

    // Update every hour
    setInterval(updateSessionLinks, 3600000);
});
</script> 